WS_SECRET_KEY=your_secret_key_here

WS_DB_HOST=127.0.0.1
WS_DB_PORT=5432
WS_DB_USER=hyperclast
WS_DB_PASSWORD=your_db_password_here
WS_DB_NAME=hyperclast

WS_GOOGLE_SIGNIN_CLIENT_ID=x
WS_GOOGLE_SIGNIN_SECRET_KEY=x

WS_SENTRY_DSN=x

WS_LOG_FILE=/var/log/gunicorn/ws.log
WS_LOG_LEVEL=INFO

WS_DEPLOYMENT_ID=_local
WS_ROOT_URL=http://localhost:9800
WS_CLI_VERSION=0.1.0


WS_STRIPE_API_PUBLISHABLE_KEY=x
WS_STRIPE_API_SECRET_KEY=x
WS_STRIPE_ENDPOINT_SECRET=x
WS_STRIPE_PRO_PRICE_ID=x
WS_BILLING_ADMIN_EMAILS=admin@example.com

WS_REDIS_HOST=localhost
WS_REDIS_PORT=6379
WS_REDIS_DB_NUMBER=1

WS_JOB_RUNNER=rq

WS_EMAIL_BACKEND=x
WS_POSTMARK_SERVER_TOKEN=x
WS_EMAIL_WEBHOOK_SECRET=x
WS_DEFAULT_FROM_EMAIL=x
WS_SERVER_EMAIL=x

# Encryption key for storing sensitive data (API keys, etc.)
# Generate with: python3 -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
WS_ENCRYPTION_KEY=

WS_ALLOWED_HOSTS=localhost
WS_CSRF_TRUSTED_ORIGINS=http://localhost:9800,http://127.0.0.1:9800

# AI features (enabled by default, set to false to disable)
# WS_ASK_FEATURE_ENABLED=false

# Dev sidebar (shows API code snippets in the sidebar)
WS_DEV_SIDEBAR_ENABLED=true

# Branding (optional)
# WS_BRAND_NAME=Hyperclast
# WS_LANDING_TEMPLATE=core/landing.html

# Updates/broadcast email (for product updates sent via Postmark broadcast stream)
# WS_UPDATES_TEST_EMAIL=your-test@yourdomain.com  # defaults to test@example.com (RFC 2606 blackhole)
# WS_UPDATES_FROM_EMAIL=updates@yourdomain.com    # defaults to DEFAULT_FROM_EMAIL
# WS_UPDATES_POSTMARK_TOKEN=your-broadcast-token  # Postmark broadcast stream API token

WS_UPDATE_DEFAULT_AUTHOR_NAME=Kirubakaran Athmanathan
WS_UPDATE_DEFAULT_AUTHOR_PICTURE=/static/core/img/kirubakaran.jpg

# Private features (optional, for custom deployments)
# WS_PRIVATE_FEATURES=feature_name
# WS_PRIVATE_PREVIEW_URL=https://example.com

# Performance test thresholds (in nanoseconds, for tests only)
# Increase these if performance tests fail on slower hardware
# WS_PERF_REQUEST_ID_GEN_NS=1000   # Default: 1µs
# WS_PERF_MIDDLEWARE_NS=10000      # Default: 10µs
# WS_PERF_LOGGING_NS=1000          # Default: 1µs

# File upload feature (filehub)
# Set to true to enable file upload functionality
# When false: upload button hidden, upload API returns 503
WS_FILEHUB_FEATURE_ENABLED=false

# R2 Storage Configuration
WS_FILEHUB_R2_ACCOUNT_ID=x
WS_FILEHUB_R2_ACCESS_KEY_ID=x
WS_FILEHUB_R2_SECRET_ACCESS_KEY=x
WS_FILEHUB_R2_BUCKET=hyperclast-ws-uploads

# Primary upload target (Currently, only r2 is supported)
WS_FILEHUB_PRIMARY_UPLOAD_TARGET=r2

WS_FILEHUB_REPLICATION_ENABLED=false

# R2 Webhook Configuration (for automatic upload finalization)
# Enable webhook-based finalization (requires Cloudflare Worker setup)
WS_FILEHUB_R2_WEBHOOK_ENABLED=true
# Shared secret for HMAC signature verification (must match Worker's WEBHOOK_SECRET)
# Generate with: openssl rand -hex 32
WS_FILEHUB_R2_WEBHOOK_SECRET=

# Stale Upload Cleanup Configuration
# Time in seconds after which pending uploads are considered stale (default: 24 hours)
# WS_FILEHUB_STALE_UPLOAD_THRESHOLD_SECONDS=86400
# Maximum uploads to process per cleanup run (default: 1000)
# WS_FILEHUB_STALE_UPLOAD_BATCH_SIZE=1000

# File Upload Rate Limiting
# WS_FILEHUB_UPLOAD_RATE_LIMIT_REQUESTS=60
# WS_FILEHUB_UPLOAD_RATE_LIMIT_WINDOW_SECONDS=60

# Maximum file size in bytes (default: 10MB = 10485760)
# WS_FILEHUB_MAX_FILE_SIZE_BYTES=10485760

# Data Import Configuration
# Temp directory for uploaded import files (default: /tmp)
# For Docker, use a shared volume path like /app/shared/imports
# WS_IMPORTS_TEMP_DIR=/tmp

# Maximum import file size in bytes (default: 100MB = 104857600)
# WS_IMPORTS_MAX_FILE_SIZE_BYTES=104857600

# Storage provider for archiving import files (default: r2)
# WS_IMPORTS_STORAGE_PROVIDER=r2

# Import Rate Limiting
# WS_IMPORTS_RATE_LIMIT_REQUESTS=10
# WS_IMPORTS_RATE_LIMIT_WINDOW_SECONDS=3600

# Zip Bomb Prevention Thresholds
# Maximum total uncompressed size in bytes (default: 5GB = 5368709120)
# WS_IMPORTS_MAX_UNCOMPRESSED_SIZE_BYTES=5368709120
# Maximum compression ratio allowed (default: 30.0)
# WS_IMPORTS_MAX_COMPRESSION_RATIO=30.0
# Maximum number of files in archive (default: 100000)
# WS_IMPORTS_MAX_FILE_COUNT=100000
# Maximum size of a single file within the archive in bytes (default: 1GB = 1073741824)
# WS_IMPORTS_MAX_SINGLE_FILE_SIZE_BYTES=1073741824
# Maximum directory depth within archive (default: 30)
# WS_IMPORTS_MAX_PATH_DEPTH=30
# Maximum nested zip depth (default: 2, for Notion's ExportBlock-*-Part-*.zip pattern)
# WS_IMPORTS_MAX_NESTED_ZIP_DEPTH=2
# Extraction timeout in seconds (default: 300 = 5 minutes)
# WS_IMPORTS_EXTRACTION_TIMEOUT_SECONDS=300

# Import abuse thresholds (violations within window trigger permanent ban)
# Number of days to look back for abuse threshold calculations (default: 7)
# WS_IMPORTS_ABUSE_WINDOW_DAYS=7
# Number of CRITICAL severity violations to trigger ban (default: 1)
# WS_IMPORTS_ABUSE_CRITICAL_THRESHOLD=1
# Number of HIGH severity violations to trigger ban (default: 2)
# WS_IMPORTS_ABUSE_HIGH_THRESHOLD=2
# Number of MEDIUM severity violations to trigger ban (default: 5)
# WS_IMPORTS_ABUSE_MEDIUM_THRESHOLD=5
# Number of LOW severity violations to trigger ban (default: 10)
# WS_IMPORTS_ABUSE_LOW_THRESHOLD=10

# Stale Import Cleanup Configuration
# Time in seconds after which pending imports are considered stale (default: 24 hours)
# WS_IMPORTS_TEMP_FILE_CLEANUP_THRESHOLD_SECONDS=86400
# Maximum imports to process per cleanup run (default: 1000)
# WS_IMPORTS_STALE_CLEANUP_BATCH_SIZE=1000
